{"ast":null,"code":"import _slicedToArray from\"/Users/kishank/Desktop/Event-Manager/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{useHistory}from\"react-router-dom\";import\"./Event.css\";import eventServices from\"../../../services/event-services\";import isLoggedIn from\"../../../utils/auth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Event=function Event(_ref){var event=_ref.event,isAdmin=_ref.isAdmin,isLiked=_ref.isLiked,isLoggedIn=_ref.isLoggedIn;var _useState=useState(isLiked),_useState2=_slicedToArray(_useState,2),likeState=_useState2[0],setLikeState=_useState2[1];var history=useHistory();var handleEdit=function handleEdit(e){var id=e.currentTarget.id;history.push('/edit/'+id);};var handleDelete=function handleDelete(e){var id=e.currentTarget.id;eventServices.delete(id).then(function(){history.push('/');}).catch(function(err){return console.log(err);});};var hitLike=function hitLike(e){var id=e.currentTarget.id;eventServices.like(id).then(function(){history.push('/');setLikeState(true);}).catch(function(err){return console.log(err);});};var hitDislike=function hitDislike(e){var id=e.currentTarget.id;eventServices.dislike(id).then(function(){history.push('/');setLikeState(false);}).catch(function(err){return console.log(err);});};var showDetails=function showDetails(e){var id=e.currentTarget.id;eventServices.details(id).then(function(){history.push('/details/'+id);}).catch(function(err){return console.log(err);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"Event\",children:[isLoggedIn?/*#__PURE__*/_jsx(\"img\",{src:event.imageURL,alt:\"alt\",className:\"details\",onClick:showDetails,id:event._id}):/*#__PURE__*/_jsx(\"img\",{src:event.imageURL,alt:\"alt\",id:event._id}),/*#__PURE__*/_jsx(\"p\",{className:\"name\",children:event.name}),/*#__PURE__*/_jsx(\"p\",{className:\"description\",children:event.description}),event.admin.firstName?/*#__PURE__*/_jsxs(\"div\",{className:\"creator\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Creator: \"}),event.admin.firstName+' '+event.admin.lastName]}):null,!isAdmin?/*#__PURE__*/_jsx(\"div\",{children:event.admin.firstName?/*#__PURE__*/_jsxs(\"div\",{className:\"likes\",children:[likeState?/*#__PURE__*/_jsx(\"i\",{className:\"far fa-thumbs-up blue\",id:event._id,onClick:hitDislike}):/*#__PURE__*/_jsx(\"i\",{className:\"far fa-thumbs-up\",id:event._id,onClick:hitLike}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \",event.likes.length+(event.likes.length===1?\" Like\":\" Likes\")]})]}):null}):/*#__PURE__*/_jsxs(\"div\",{className:\"buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"links\",id:event._id,onClick:handleEdit,children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"links\",id:event._id,onClick:handleDelete,children:\"Delete\"})]})]},event._id);};export default Event;","map":{"version":3,"sources":["/Users/kishank/Desktop/Event-Manager/client/src/components/events/event/Event.js"],"names":["React","useState","useEffect","useHistory","eventServices","isLoggedIn","Event","event","isAdmin","isLiked","likeState","setLikeState","history","handleEdit","e","id","currentTarget","push","handleDelete","delete","then","catch","err","console","log","hitLike","like","hitDislike","dislike","showDetails","details","imageURL","_id","name","description","admin","firstName","lastName","likes","length"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport {useHistory } from \"react-router-dom\";\n\nimport \"./Event.css\";\nimport eventServices from \"../../../services/event-services\";\nimport isLoggedIn from \"../../../utils/auth\";\n\nconst Event = ({event, isAdmin, isLiked, isLoggedIn}) => {\n    const [likeState, setLikeState] = useState(isLiked);\n    const history = useHistory();\n\n    const handleEdit = (e) => {\n        const id = e.currentTarget.id;\n        history.push('/edit/' + id);\n    }\n\n    const handleDelete = (e) => {\n        const id = e.currentTarget.id;\n        eventServices.delete(id).then(() => {\n            history.push('/');\n        }).catch(err => console.log(err));\n    }\n\n    const hitLike = (e) => {\n        const id = e.currentTarget.id;\n        eventServices.like(id).then(() => {\n            history.push('/');\n            setLikeState(true);\n        }).catch(err => console.log(err));\n    }\n\n    const hitDislike = (e) => {\n        const id = e.currentTarget.id;\n        eventServices.dislike(id).then(() => {\n            history.push('/');\n            setLikeState(false);\n        }).catch(err => console.log(err));\n    }\n\n    const showDetails = (e) => {\n        const id = e.currentTarget.id;\n        eventServices.details(id).then(() => {\n            history.push('/details/' + id);\n        }).catch(err => console.log(err));\n    }\n\n    return (\n        <div className=\"Event\" key={event._id}>\n            {\n                isLoggedIn ?\n                    <img src={event.imageURL} alt=\"alt\" className=\"details\" onClick={showDetails} id={event._id}/> :\n                    <img src={event.imageURL} alt=\"alt\" id={event._id}/>\n            }\n            <p className=\"name\">{event.name}</p>\n            <p className=\"description\">{event.description}</p>\n            { event.admin.firstName ?\n                <div className=\"creator\">\n                    <span>Creator: </span>\n                    {event.admin.firstName + ' ' + event.admin.lastName}\n                </div> : null\n            }\n                {!isAdmin ?\n                    <div>\n                        {event.admin.firstName ?\n                <div className=\"likes\">\n                {likeState ?\n                    <i className=\"far fa-thumbs-up blue\" id={event._id} onClick={hitDislike}></i> :\n                    <i className=\"far fa-thumbs-up\" id={event._id} onClick={hitLike}></i>\n                }\n                <span> {event.likes.length + (event.likes.length === 1 ? \" Like\" : \" Likes\")}</span>\n                </div> : null }\n                    </div>\n                :\n                <div className=\"buttons\">\n                <button className=\"links\" id={event._id} onClick={handleEdit}>Edit</button>\n                <button className=\"links\" id={event._id} onClick={handleDelete}>Delete</button>\n                </div>}\n        </div>\n    )\n}\n\nexport default Event;"]},"metadata":{},"sourceType":"module"}