{"ast":null,"code":"import _slicedToArray from\"/Users/kishank/Desktop/Event-Manager/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import'./Profile.css';import userImg from'../../../images/user.png';import userService from\"../../../services/user-services\";import Event from\"../../events/event/Event\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Profile=function Profile(){var _useState=useState('createdEvents'),_useState2=_slicedToArray(_useState,2),display=_useState2[0],setDisplay=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),likedEvents=_useState6[0],setLikedEvents=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),createdEvents=_useState8[0],setCreatedEvents=_useState8[1];useEffect(function(){var userId=JSON.parse(sessionStorage.getItem('user'))._id;userService.get(userId).then(function(res){setUser(res);setLikedEvents(res['likedEvents']);setCreatedEvents(res['createdEvents']);}).catch(function(err){return console.log(err);});},[]);var likedEventsClick=function likedEventsClick(e){setDisplay('likedEvents');};var createdEventsClick=function createdEventsClick(e){setDisplay('createdEvents');};var renderLikedEvents=function renderLikedEvents(){return likedEvents.map(function(event){return/*#__PURE__*/_jsx(Event,{isAdmin:false,isLiked:true,event:event,display:\"profile\"},event._id);});};var renderCreatedEvents=function renderCreatedEvents(){return createdEvents.map(function(event){return/*#__PURE__*/_jsx(Event,{isAdmin:true,isLiked:false,event:event},event._id);});};var render=function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"Profile\",children:[display==='likedEvents'?/*#__PURE__*/_jsxs(\"div\",{className:\"likedEvents\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Liked Events\"}),likedEvents.length!==0?renderLikedEvents():/*#__PURE__*/_jsx(\"span\",{children:\"No liked events\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"createdEvents\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Created Events\"}),createdEvents.length!==0?renderCreatedEvents():/*#__PURE__*/_jsx(\"span\",{children:\"No created events\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-data\",children:[/*#__PURE__*/_jsx(\"img\",{src:userImg,alt:\"alt\"}),/*#__PURE__*/_jsx(\"p\",{className:\"name\",children:user.firstName.toUpperCase()+' '+user.lastName.toUpperCase()}),/*#__PURE__*/_jsx(\"p\",{className:\"username\",children:'@'+user.username}),/*#__PURE__*/_jsxs(\"p\",{className:\"liked-events\",children:[\"Liked events: \",user.likedEvents.length]}),/*#__PURE__*/_jsxs(\"p\",{className:\"created-events\",children:[\"Created events: \",user.createdEvents.length]}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:likedEventsClick,children:\"Liked events\"}),/*#__PURE__*/_jsx(\"button\",{onClick:createdEventsClick,children:\"Created events\"})]})]})]});};return Object.keys(user).length?render():/*#__PURE__*/_jsx(\"span\",{children:\"Loading...\"});};export default Profile;","map":{"version":3,"sources":["/Users/kishank/Desktop/Event-Manager/client/src/components/user/profile/Profile.js"],"names":["React","useEffect","useState","userImg","userService","Event","Profile","display","setDisplay","user","setUser","likedEvents","setLikedEvents","createdEvents","setCreatedEvents","userId","JSON","parse","sessionStorage","getItem","_id","get","then","res","catch","err","console","log","likedEventsClick","e","createdEventsClick","renderLikedEvents","map","event","renderCreatedEvents","render","length","firstName","toUpperCase","lastName","username","Object","keys"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\";\n\nimport './Profile.css';\nimport userImg from '../../../images/user.png';\nimport userService from \"../../../services/user-services\";\nimport Event from \"../../events/event/Event\";\n\nconst Profile = () => {\n    const [display, setDisplay] = useState('createdEvents');\n    const [user, setUser] = useState({});\n    const [likedEvents, setLikedEvents] = useState([]);\n    const [createdEvents, setCreatedEvents] = useState([]);\n\n    useEffect(() => {\n        const userId = JSON.parse(sessionStorage.getItem('user'))._id;\n        userService.get(userId).then(res => {\n            setUser(res);\n            setLikedEvents(res['likedEvents']);\n            setCreatedEvents(res['createdEvents']);\n        }).catch(err => console.log(err));\n    }, []);\n\n    const likedEventsClick = (e) => {\n        setDisplay('likedEvents');\n    }\n\n    const createdEventsClick = (e) => {\n        setDisplay('createdEvents');\n    }\n\n    const renderLikedEvents = () => {\n        return likedEvents.map(event => {\n\n            return (\n                <Event\n                    isAdmin={false}\n                    isLiked={true}\n                    key={event._id}\n                    event={event}\n                    display=\"profile\"\n                />\n            )\n        })\n    }\n\n    const renderCreatedEvents = () => {\n        return createdEvents.map(event => {\n            return (\n                <Event\n                    isAdmin={true}\n                    isLiked={false}\n                    key={event._id}\n                    event={event}\n                />\n            )\n        })\n    }\n\n    const render = () => {\n        return (\n            <div className=\"Profile\">\n                {display === 'likedEvents' ?\n                    <div className=\"likedEvents\">\n                        <h1>Liked Events</h1>\n                        {likedEvents.length !== 0 ? renderLikedEvents() : <span>No liked events</span>}\n                    </div> :\n                    <div className=\"createdEvents\">\n                        <h1>Created Events</h1>\n                        {createdEvents.length !== 0 ? renderCreatedEvents() : <span>No created events</span>}\n                    </div>}\n                <div className=\"profile-data\">\n                    <img src={userImg} alt=\"alt\"/>\n                    <p className=\"name\">{user.firstName.toUpperCase() + ' ' + user.lastName.toUpperCase()}</p>\n                    <p className=\"username\">{ '@' + user.username}</p>\n                    <p className=\"liked-events\">Liked events: {user.likedEvents.length}</p>\n                    <p className=\"created-events\">Created events: {user.createdEvents.length}</p>\n                    <div className=\"buttons\">\n                        <button onClick={likedEventsClick}>Liked events</button>\n                        <button onClick={createdEventsClick}>Created events</button>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n\n    return Object.keys(user).length ? render() : <span>Loading...</span>\n\n}\n\nexport default Profile;"]},"metadata":{},"sourceType":"module"}