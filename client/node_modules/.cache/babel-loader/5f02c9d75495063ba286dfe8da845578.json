{"ast":null,"code":"import _slicedToArray from\"/Users/kishank/Desktop/Event-Manager/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import\"./Details.css\";import{useParams,useHistory}from\"react-router\";import isAdmin from\"../../../utils/isAdmin\";import isLiked from\"../../../utils/isLiked\";import eventServices from\"../../../services/event-services\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Details=function Details(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),event=_useState2[0],setEvent=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),likeStatus=_useState4[0],setLikeStatus=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),admin=_useState6[0],setIsAdmin=_useState6[1];var _useParams=useParams(),id=_useParams.id;var history=useHistory();useEffect(function(){eventServices.details(id).then(function(res){setEvent(res);setIsAdmin(isAdmin(res));setLikeStatus(isLiked(res));}).catch(function(err){return console.log(err);});},[]);var handleEdit=function handleEdit(e){var id=e.currentTarget.id;history.push('/edit/'+id);};var handleDelete=function handleDelete(e){var id=e.currentTarget.id;eventServices.delete(id).then(function(){history.push('/');}).catch(function(err){return console.log(err);});history.push('/');};var hitLike=function hitLike(e){var id=e.currentTarget.id;eventServices.like(id).then(function(){history.push('/details/'+id);setLikeStatus(true);}).catch(function(err){return console.log(err);});};var hitDislike=function hitDislike(e){var id=e.currentTarget.id;eventServices.dislike(id).then(function(){history.push('/details/'+id);setLikeStatus(false);}).catch(function(err){return console.log(err);});};var render=function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"Details\",children:[/*#__PURE__*/_jsx(\"img\",{src:event.imageURL,alt:\"alt\",id:event._id}),/*#__PURE__*/_jsxs(\"div\",{className:\"question-answers\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"question\",children:\"What is the name of the event?\"}),/*#__PURE__*/_jsx(\"p\",{className:\"name\",children:event.name}),/*#__PURE__*/_jsx(\"span\",{className:\"question\",children:\"Where will the event be held?\"}),/*#__PURE__*/_jsx(\"p\",{className:\"location\",children:event.location}),/*#__PURE__*/_jsx(\"span\",{className:\"question\",children:\"When will the event be held?\"}),/*#__PURE__*/_jsx(\"p\",{className:\"date\",children:event.date}),/*#__PURE__*/_jsx(\"span\",{className:\"question\",children:\"What is the event about?\"}),/*#__PURE__*/_jsx(\"p\",{className:\"description\",children:event.description})]}),/*#__PURE__*/_jsx(\"div\",{className:\"buttons\",children:!admin?/*#__PURE__*/_jsx(\"div\",{className:\"likes\",children:likeStatus?/*#__PURE__*/_jsx(\"i\",{className:\"far fa-thumbs-up blue\",id:event._id,onClick:hitDislike}):/*#__PURE__*/_jsx(\"i\",{className:\"far fa-thumbs-up\",id:event._id,onClick:hitLike})}):/*#__PURE__*/_jsxs(\"div\",{className:\"buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"links\",id:event._id,onClick:handleEdit,children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"links\",id:event._id,onClick:handleDelete,children:\"Delete\"})]})})]});};return Object.keys(event).length?render():/*#__PURE__*/_jsx(\"span\",{children:\"Loading...\"});};export default Details;","map":{"version":3,"sources":["/Users/kishank/Desktop/Event-Manager/client/src/components/events/details/Details.js"],"names":["React","useState","useEffect","useParams","useHistory","isAdmin","isLiked","eventServices","Details","event","setEvent","likeStatus","setLikeStatus","admin","setIsAdmin","id","history","details","then","res","catch","err","console","log","handleEdit","e","currentTarget","push","handleDelete","delete","hitLike","like","hitDislike","dislike","render","imageURL","_id","name","location","date","description","Object","keys","length"],"mappings":"kKAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CAEA,MAAO,eAAP,CACA,OAAQC,SAAR,CAAmBC,UAAnB,KAAoC,cAApC,CACA,MAAOC,CAAAA,OAAP,KAAoB,wBAApB,CACA,MAAOC,CAAAA,OAAP,KAAoB,wBAApB,CACA,MAAOC,CAAAA,aAAP,KAA0B,kCAA1B,C,wFAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,eACQP,QAAQ,CAAC,EAAD,CADhB,wCACXQ,KADW,eACJC,QADI,8BAEkBT,QAAQ,CAAC,KAAD,CAF1B,yCAEXU,UAFW,eAECC,aAFD,8BAGUX,QAAQ,CAAC,KAAD,CAHlB,yCAGXY,KAHW,eAGJC,UAHI,8BAILX,SAAS,EAJJ,CAIXY,EAJW,YAIXA,EAJW,CAKlB,GAAMC,CAAAA,OAAO,CAAGZ,UAAU,EAA1B,CAECF,SAAS,CAAC,UAAM,CACZK,aAAa,CAACU,OAAd,CAAsBF,EAAtB,EAA0BG,IAA1B,CAA+B,SAAAC,GAAG,CAAI,CACnCT,QAAQ,CAACS,GAAD,CAAR,CACAL,UAAU,CAACT,OAAO,CAACc,GAAD,CAAR,CAAV,CACAP,aAAa,CAACN,OAAO,CAACa,GAAD,CAAR,CAAb,CACH,CAJA,EAIEC,KAJF,CAIQ,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EAJX,EAKJ,CANS,CAMP,EANO,CAAT,CAQD,GAAMG,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,CAAD,CAAO,CACtB,GAAMV,CAAAA,EAAE,CAAGU,CAAC,CAACC,aAAF,CAAgBX,EAA3B,CACAC,OAAO,CAACW,IAAR,CAAa,SAAWZ,EAAxB,EACH,CAHD,CAKA,GAAMa,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACH,CAAD,CAAO,CACxB,GAAMV,CAAAA,EAAE,CAAGU,CAAC,CAACC,aAAF,CAAgBX,EAA3B,CACAR,aAAa,CAACsB,MAAd,CAAqBd,EAArB,EAAyBG,IAAzB,CAA8B,UAAM,CAChCF,OAAO,CAACW,IAAR,CAAa,GAAb,EACH,CAFD,EAEGP,KAFH,CAES,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EAFZ,EAGAL,OAAO,CAACW,IAAR,CAAa,GAAb,EACH,CAND,CAQA,GAAMG,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACL,CAAD,CAAO,CACnB,GAAMV,CAAAA,EAAE,CAAGU,CAAC,CAACC,aAAF,CAAgBX,EAA3B,CACAR,aAAa,CAACwB,IAAd,CAAmBhB,EAAnB,EAAuBG,IAAvB,CAA4B,UAAM,CAC9BF,OAAO,CAACW,IAAR,CAAa,YAAcZ,EAA3B,EACAH,aAAa,CAAC,IAAD,CAAb,CACH,CAHD,EAGGQ,KAHH,CAGS,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EAHZ,EAIH,CAND,CAQA,GAAMW,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACP,CAAD,CAAO,CACtB,GAAMV,CAAAA,EAAE,CAAGU,CAAC,CAACC,aAAF,CAAgBX,EAA3B,CACAR,aAAa,CAAC0B,OAAd,CAAsBlB,EAAtB,EAA0BG,IAA1B,CAA+B,UAAM,CACjCF,OAAO,CAACW,IAAR,CAAa,YAAcZ,EAA3B,EACAH,aAAa,CAAC,KAAD,CAAb,CACH,CAHD,EAGGQ,KAHH,CAGS,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EAHZ,EAIH,CAND,CAQA,GAAMa,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACjB,mBACI,aAAK,SAAS,CAAC,SAAf,wBACI,YAAK,GAAG,CAAEzB,KAAK,CAAC0B,QAAhB,CAA0B,GAAG,CAAC,KAA9B,CAAoC,EAAE,CAAE1B,KAAK,CAAC2B,GAA9C,EADJ,cAEI,aAAK,SAAS,CAAC,kBAAf,wBACI,aAAM,SAAS,CAAC,UAAhB,4CADJ,cAEI,UAAG,SAAS,CAAC,MAAb,UAAqB3B,KAAK,CAAC4B,IAA3B,EAFJ,cAGI,aAAM,SAAS,CAAC,UAAhB,2CAHJ,cAII,UAAG,SAAS,CAAC,UAAb,UAAyB5B,KAAK,CAAC6B,QAA/B,EAJJ,cAKI,aAAM,SAAS,CAAC,UAAhB,0CALJ,cAMI,UAAG,SAAS,CAAC,MAAb,UAAqB7B,KAAK,CAAC8B,IAA3B,EANJ,cAOI,aAAM,SAAS,CAAC,UAAhB,sCAPJ,cAQI,UAAG,SAAS,CAAC,aAAb,UAA4B9B,KAAK,CAAC+B,WAAlC,EARJ,GAFJ,cAYI,YAAK,SAAS,CAAC,SAAf,UACK,CAAC3B,KAAD,cACG,YAAK,SAAS,CAAC,OAAf,UACKF,UAAU,cACP,UAAG,SAAS,CAAC,uBAAb,CAAqC,EAAE,CAAEF,KAAK,CAAC2B,GAA/C,CAAoD,OAAO,CAAEJ,UAA7D,EADO,cAEP,UAAG,SAAS,CAAC,kBAAb,CAAgC,EAAE,CAAEvB,KAAK,CAAC2B,GAA1C,CAA+C,OAAO,CAAEN,OAAxD,EAHR,EADH,cAQG,aAAK,SAAS,CAAC,SAAf,wBACI,eAAQ,SAAS,CAAC,OAAlB,CAA0B,EAAE,CAAErB,KAAK,CAAC2B,GAApC,CAAyC,OAAO,CAAEZ,UAAlD,kBADJ,cAEI,eAAQ,SAAS,CAAC,OAAlB,CAA0B,EAAE,CAAEf,KAAK,CAAC2B,GAApC,CAAyC,OAAO,CAAER,YAAlD,oBAFJ,GATR,EAZJ,GADJ,CA6BH,CA9BD,CAgCA,MAAOa,CAAAA,MAAM,CAACC,IAAP,CAAYjC,KAAZ,EAAmBkC,MAAnB,CAA6BT,MAAM,EAAnC,cAAwC,oCAA/C,CACH,CA7ED,CA+EA,cAAe1B,CAAAA,OAAf","sourcesContent":["import React, {useState, useEffect} from \"react\";\n\nimport \"./Details.css\";\nimport {useParams, useHistory} from \"react-router\";\nimport isAdmin from \"../../../utils/isAdmin\";\nimport isLiked from \"../../../utils/isLiked\";\nimport eventServices from \"../../../services/event-services\";\n\nconst Details = () => {\n    const [event, setEvent] = useState({});\n    const [likeStatus, setLikeStatus] = useState(false);\n    const [admin, setIsAdmin] = useState(false);\n    const {id} = useParams();\n    const history = useHistory();\n\n     useEffect(() => {\n         eventServices.details(id).then(res => {\n            setEvent(res);\n            setIsAdmin(isAdmin(res));\n            setLikeStatus(isLiked(res));\n        }).catch(err => console.log(err));\n    }, []);\n\n    const handleEdit = (e) => {\n        const id = e.currentTarget.id;\n        history.push('/edit/' + id);\n    }\n\n    const handleDelete = (e) => {\n        const id = e.currentTarget.id;\n        eventServices.delete(id).then(() => {\n            history.push('/');\n        }).catch(err => console.log(err));\n        history.push('/');\n    }\n\n    const hitLike = (e) => {\n        const id = e.currentTarget.id;\n        eventServices.like(id).then(() => {\n            history.push('/details/' + id);\n            setLikeStatus(true);\n        }).catch(err => console.log(err));\n    }\n\n    const hitDislike = (e) => {\n        const id = e.currentTarget.id;\n        eventServices.dislike(id).then(() => {\n            history.push('/details/' + id);\n            setLikeStatus(false);\n        }).catch(err => console.log(err));\n    }\n\n    const render = () => {\n        return (\n            <div className=\"Details\">\n                <img src={event.imageURL} alt=\"alt\" id={event._id}/>\n                <div className=\"question-answers\">\n                    <span className=\"question\">What is the name of the event?</span>\n                    <p className=\"name\">{event.name}</p>\n                    <span className=\"question\">Where will the event be held?</span>\n                    <p className=\"location\">{event.location}</p>\n                    <span className=\"question\">When will the event be held?</span>\n                    <p className=\"date\">{event.date}</p>\n                    <span className=\"question\">What is the event about?</span>\n                    <p className=\"description\">{event.description}</p>\n                </div>\n                <div className=\"buttons\">\n                    {!admin ?\n                        <div className=\"likes\">\n                            {likeStatus ?\n                                <i className=\"far fa-thumbs-up blue\" id={event._id} onClick={hitDislike}></i> :\n                                <i className=\"far fa-thumbs-up\" id={event._id} onClick={hitLike}></i>\n                            }\n                        </div>\n                        :\n                        <div className=\"buttons\">\n                            <button className=\"links\" id={event._id} onClick={handleEdit}>Edit</button>\n                            <button className=\"links\" id={event._id} onClick={handleDelete}>Delete</button>\n                        </div>}\n                </div>\n            </div>\n        )\n    }\n\n    return Object.keys(event).length  ? render() : <span>Loading...</span>\n}\n\nexport default Details;"]},"metadata":{},"sourceType":"module"}